<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Document</title>
      <link rel="stylesheet" href="./index.css" />
   </head>
   <body>
      <main>
         <h1>Slide in a scroll</h1>
         <p>
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptate
            quia blanditiis velit voluptates laudantium iure ab ducimus qui,
            pariatur accusamus exercitationem magni enim, obcaecati illo amet
            ut? Quas, ab. Lorem ipsum dolor sit amet consectetur adipisicing
            elit. Deleniti illum obcaecati, magni sequi maiores rerum quae optio
            beatae eos. Ipsam eaque in, iste voluptatibus fugiat voluptatum
            suscipit. Odio, odit sunt! Lorem ipsum dolor sit amet consectetur
            adipisicing elit. Vero et modi ipsam beatae natus voluptas. Nihil
            magnam blanditiis praesentium assumenda reiciendis optio quidem
            aspernatur quam nesciunt minima magni, tempore autem!
            <img src="./street.jpg" alt="" class="align-right slide-in" />
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem,
            inventore, expedita vero explicabo molestias reiciendis aut numquam
            nihil, sapiente atque libero voluptatum modi? Doloribus molestias
            quaerat reprehenderit ullam pariatur velit. Lorem, ipsum dolor sit
            amet consectetur adipisicing elit. Quisquam ipsa minus deserunt
            adipisci, exercitationem excepturi, animi impedit hic expedita quis
            reprehenderit quae? Facilis repellendus soluta officia, voluptates
            velit sed eum. Lorem ipsum dolor sit amet consectetur adipisicing
            elit. Excepturi voluptate rerum consectetur ducimus fugit minima sed
            amet quam odio dolore veritatis natus quo aspernatur illo, veniam
            est reiciendis, tenetur sapiente!
         </p>

         <p>
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Aut
            temporibus et fugit iste dolorum voluptatem eveniet sit, labore
            earum numquam molestiae expedita amet modi, dolor beatae nam
            consequuntur ab eaque? Lorem ipsum dolor sit amet consectetur
            adipisicing elit. Earum vitae aliquid sunt ab debitis aut, ratione
            nam, nesciunt consectetur laborum mollitia ducimus dolorum. Culpa
            minima aliquam, doloribus distinctio vel ratione. Lorem ipsum dolor
            sit amet, consectetur adipisicing elit. At atque velit culpa quasi
            blanditiis, molestias sequi tempore in excepturi ipsa saepe qui ut
            quidem quod quae deleniti voluptatum officia provident. Lorem ipsum
            dolor, sit amet consectetur adipisicing elit. Quod, non cumque. Nisi
            ad iste incidunt laudantium reiciendis unde, temporibus ipsa,
            accusantium voluptatem ducimus voluptas ipsum praesentium! Quasi
            iste voluptatem molestias?
            <img src="./street.jpg" alt="" class="align-left slide-in" /> Lorem
            ipsum dolor sit amet consectetur adipisicing elit. Error officiis
            alias reprehenderit, possimus repellendus quasi laudantium sint iure
            quisquam ex quod natus aliquid inventore tempora vitae dignissimos
            ipsa id cum? Lorem ipsum dolor sit amet consectetur adipisicing
            elit. Fugiat, ducimus possimus. Aspernatur quo, tenetur error illo
            et modi sint adipisci. Blanditiis, similique. Similique ipsa
            dignissimos facere nesciunt, ex magni consequuntur. Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Molestiae corporis
            dolor neque quo! Quidem vitae fuga a delectus aliquam eligendi
            suscipit nisi ipsa totam blanditiis, beatae possimus esse accusamus
            odio.
         </p>

         <p>
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quaerat
            quasi quae in distinctio, labore, doloribus animi, earum dolor
            perferendis necessitatibus ipsum ut doloremque voluptas modi
            ratione? Maxime itaque odio unde! Lorem ipsum dolor sit amet
            consectetur adipisicing elit. Ullam, placeat nam aut commodi id
            optio unde dicta sit eveniet incidunt deserunt fugit corporis odit.
            Dolores et amet distinctio modi vel?Lorem ipsum dolor sit, amet
            consectetur adipisicing elit. Expedita, molestiae harum? Debitis
            numquam ratione minima, perspiciatis a dolorum quas natus sequi,
            dignissimos tempora quidem ducimus eligendi velit! Facilis, dolorem
            temporibus! Lorem ipsum dolor sit amet, consectetur adipisicing
            elit. Veritatis dolor, iure eaque a obcaecati consequatur?
            Voluptatum ipsam quo expedita quibusdam molestiae voluptas ullam
            laborum fugit distinctio ea, nostrum cupiditate doloribus. Lorem
            ipsum dolor sit amet consectetur adipisicing elit. Dicta enim
            debitis libero necessitatibus officiis fugiat? Iste, mollitia amet,
            magni praesentium libero quo voluptates laboriosam totam ut, beatae
            est reprehenderit optio! Lorem ipsum dolor sit amet consectetur
            adipisicing elit. Ipsam culpa aliquam asperiores, sunt ea facilis
            facere veniam accusamus aperiam distinctio in excepturi saepe cum
            rerum rem architecto accusantium omnis. Aspernatur.
            <img src="./street.jpg" alt="" class="align-right slide-in" />
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsa
            quibusdam praesentium, est nobis provident voluptates! Optio dolores
            libero iure itaque nesciunt ex dignissimos, quod magni, assumenda ea
            commodi quisquam numquam. Lorem ipsum dolor sit amet consectetur
            adipisicing elit. Nihil temporibus fuga, enim laudantium corporis
            officiis? Nesciunt animi, mollitia iusto ut illum ratione aliquid
            commodi est doloribus officiis, accusamus iste nam? Lorem ipsum
            dolor sit amet consectetur adipisicing elit. Alias facere cupiditate
            ab, sed modi asperiores porro iusto, magni repellat velit reiciendis
            incidunt. Necessitatibus non nemo libero? Modi perspiciatis
            necessitatibus non.
         </p>

         <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus error
            ipsum veritatis saepe quaerat incidunt aspernatur dolorum, animi
            expedita perspiciatis molestiae, debitis facere eos, deserunt
            pariatur. Suscipit expedita maxime in. Lorem ipsum dolor sit amet
            consectetur adipisicing elit. Culpa cupiditate, explicabo incidunt
            dolorem inventore corporis maxime ex unde maiores, vero enim est,
            voluptatem molestias voluptates quas voluptas natus eveniet
            delectus. Lorem ipsum, dolor sit amet consectetur adipisicing elit.
            Hic suscipit cumque, assumenda, earum eos quia neque veniam labore
            molestiae totam vitae sit harum dicta vel reiciendis? Aliquam quia
            animi quisquam. Lorem ipsum dolor sit amet consectetur adipisicing
            elit. Odit soluta accusamus iure dolore praesentium eius officiis
            obcaecati amet minus! Officiis quis autem recusandae similique
            deserunt voluptates ab. Laborum, voluptatem quisquam!
            <img src="./street.jpg" class="align-left slide-in" alt="" />
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis
            repellendus odit, consequuntur eius labore repellat nobis ipsam
            nostrum consectetur laboriosam illo debitis hic expedita quasi
            tempore nam deserunt provident exercitationem? Lorem ipsum dolor sit
            amet consectetur adipisicing elit. Ad accusamus laborum deleniti
            rerum consequuntur aperiam sunt, eligendi dignissimos odit veniam
            mollitia dolore, soluta qui error quam ab quaerat ratione impedit?
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Aut sed
            asperiores ut. Natus iure error laboriosam vel deserunt sint
            molestiae consequatur. Exercitationem ipsam magnam fuga debitis
            nulla animi enim repellendus! Lorem, ipsum dolor sit amet
            consectetur adipisicing elit. Delectus quis eos consectetur voluptas
            asperiores reprehenderit nihil consequuntur! Itaque repellendus
            perspiciatis illo ullam, aliquam deserunt adipisci dolore distinctio
            expedita ipsa hic.
         </p>
      </main>

      <script>
         function debounce(func, wait = 20, immediate = true) {
            var timeout;

            return function () {
               var context = this,
                  args = arguments;
               var later = function () {
                  timeout = null;
                  if (!immediate) func.apply(context, args);
               };
               var callNow = immediate && !timeout;
               clearTimeout(timeout);
               timeout = setTimeout(later, wait);
               if (callNow) func.apply(context, args);
            };
         }

         const sliderImages = document.querySelectorAll(".slide-in");

         function checkSlide(e) {
            sliderImages.forEach((sliderImage) => {
               const slideInAt =
                  window.scrollY + window.innerHeight - sliderImage.height / 2;
               // console.log(slideInAt);

               const imageBottom = sliderImage.offsetTop + sliderImage.height;
               const isHalfshown = slideInAt > sliderImage.offsetTop;
               const isNotScrolledPast = window.scrollY < imageBottom;
               if (isHalfshown && isNotScrolledPast) {
                  sliderImage.classList.add("active");
               } else {
                  sliderImage.classList.remove("active");
               }
            });
         }

         window.addEventListener("scroll", debounce(checkSlide));
      </script>
   </body>
</html>
